%=========================================================================
% (c) Karel Hala, 2014 

\chapter{Úvod}
Pøi implementaci jakéholiv nástroje se èasto nará¾í na bariéru mezi zákazníkem a 
programátorem. Zákazník èasto netu¹í co chce a programátor èasto zákazníka 
¹patnì pochopí. Tento nástroj bohu¾el tyto problémy nedoká¾e odstranit, nicménì 
mìl by napomoci odstranit nìkteré bariéry a pomoci sna¾¹í vizualizace problémù.

Nástroj tohoto docílí za pou¾ití nìkolika èástí. Pøípadu u¾ití 
\cite{Pripad_uziti} pro jednotlivé znázornìní zákazníkových potøeb, diagramu 
tøíd pro vlastní vizualizaci a pochopení vyvýjeného softwaru a nakonec objektovì 
orientované petriho sítì, slou¾ící pro porozumìní celého systému do hloubky.

\section{Seznámení s nástrojem}
Jak bylo ji¾ øeèeno pro porozumìní po¾adavkù zákazníka nám poslou¾í diagram 
pøípadu u¾ití, odsud se pøedgenerují jednotlivé tøídy a ty následnì bude mo¾né 
upravit a popsat v èásti objektovì orientovaných petriho sítí.

\chapter{Zhondocení konkurence}
Z hlediska sna¾¹ího porozumìní byl brán zøetel na konkurentní nástroje. Pøevá¾nì 
byl brán zøetel na jejich jednoduchost a co je dìlá tak hojnì vyu¾ívané a snadno 
pou¾itelné. Z toho dùvodu byly prozkoumány dva nástroje Umbrello a komerèní 
Enterprise Architect. Detailnìj¹í popis jednotlivých aplikací, jejich výhod, 
nedostatkù a pøevzatých vlastností je popsán v sekci \ref{umbrello} a 
\ref{enterpriseArchitect}.

\section{Umbrello} \label{umbrello}
Aplikace celým názvem \textbf{Umbrello UML Modeller} \cite{Umbrello} aplikace 
primárnì urèena pro Unix based systémy, nicménì je mo¾né jej bez problémù 
nainstalovat také na windows. Za pomoci KDE installeru a vybrání po¾adovaného 
balíèku. Ovládání tohoto installeru, je velice jednoduché a intuitivní. Mezi 
její hlavní výhody patøí refaktoring pro nìkteré jazyky. Nicménì graficky 
zaostává za konkurencí ostatních nástrojù pro tvorbu UML diagramù.

\subsection{Popis aplikace}
Aplikace je velice robustní a poskytuje mnohov lastností. Pøi ohlédnutí na to, 
¾e je volnì ke sta¾ení a volnì k pou¾ívání, aplikace pou¾ívá licenci GNU general 
public license \cite{gnu_license}. Co¾ umo¾òuje komunitu být zapojenou pøi 
vývoji, odchytávat chyby a sami je opravovat. Pokud vývojáø nicménì chce být 
zahrnut do vývoje, musí bý èlenem KDE komunity. Umbrello poskytuje mnoho UML 
grafù a práce s touto aplikací je pomìrnì jednoduchá, ale její jednoduchý design 
má mnoho ¹patných návrhù. Pro men¹í aplikace a pro zaèínající firmy je naprosto 
dokonalá, ale absence pokroèilého editoru a ne pøíli¹ jednoduché práce s 
editorem je opravdu ¾alostná.

\subsection{Výhody a nevýhody}
Umbrello aplikace poskytuje nìkolikero UML grafù. \textbf{Class Diagram}, pro 
popis tøíd a provázanosti mezi nimi. \textbf{Sequence Diagram}, pro popis chodu 
aplikace, komunikace mezi vlákny a komunikace mezi aplikacemi. \textbf{Use Case 
Diagram} pro popis akcí v systému, aplikaci. \textbf{State Diagram} pro popis 
stavu systému a prùbìhu jednotlivých operací, pøevá¾nì zachování v urèitých 
momentech aplikace na dané podmínky. \textbf{Activity Diagram} popisuje akce a 
prùbìh celého programu graficky. \textbf{Component Diagram} pro popis spojení a 
komunikace mezi jednotlivými komponentami. \textbf{Deployment Diagram} popisuje 
fyzické ulo¾í¹tì a ma¹iny, na kterých program bude pracovat. A v neposlední øadì 
\textbf{Entity Relationship Diagram} pro popis vztahu dat mezi sebou.

Jak je vidno Umbrello poskytuje velké mno¾ství editorù a mo¾ností, jak znázornit 
chod aplikace. Aplikace je také velice intuitivní, a» ji¾ díky klávesovým 
zkratkám, tak také díky jednoduchému grafickému designu. Umbrello, také 
podporuje genraci a refactoring zdrojového kódu pro nìkteré jazyky. Staèí pouze 
importovat jednu ji¾ vytvoøenou tøídu a Umbrello vás provede jednoduchým 
nastavením, výbìrem které tøídy namodelované v aplikaci se mají vygenerovat a 
nabídne také mo¾nost upravit mírnì zvolený kód. Celkovì funkce pro generování 
zdrojového kódu a jeho úprava je velice potì¹ující a s ohlédnutím na to, ¾e 
Umbrello je volnì ¹íøitelné, je tato vlastnost velice dobrá.

Umbrello dále poskytuje mo¾nost gerevání èásteèné dokumentace, i kdy¾ nejsou 
poskytnu komentáøe. Pøi generování tøíd je mo¾nost, také importovat zdrojový kód 
a nechat umbrello v¹e vygenerovat samo. Tato vlastnost je, ale podporována pouze 
pro jazyky \texttt{ActionScript, Ada, C++, C\#, D IDL, Java, Javascript, MySQL}. 
Výbìr je tedy více ne¾ bohatý.

Dále Umbrello poskytuje mo¾nost exportování objektù jako PNG obrázky. Tato 
funkènost je velice pøíjemná pøi psaní dokumentù staèí èást aplikace jednodu¹e 
okopírovat a vlo¾it jako obrázek. Exportovat jako obrázek, je také mo¾no celý 
diagram. A také tisknout daný diagram.

hlavní nevýhoda aplikace je pravdìpodobnì ne pøíli¹ dobøe udìlaný editor. Editor 
je sice jednoduchý na pou¾ívání a intuitivní, nicménì dlouhodobìj¹í práce je 
zdlouhavá a pøíli¹ repetitvní. Nutnost vytvoøení objektu na pracovním plátnì, 
poté výbìru nástroje pro pøesun a editaci daného objektu je zdlouhavé a 
¹patné.jednodu¹¹í pro práci by jistì bylo vytvoøení objektu a po kliknutí na ji¾ 
vytvoøený objekt jej pouze pøesunout. Vytvoøení nového atributu tøídy je opìt 
velice nároèné a neintuitivní.

Co je ale nejvìt¹í slabinou Umbrello aplikace, je nevalidace daného diagramu. Je 
èistì na u¾ivateli hlídat si ve¹keré chyby a validitu modelované aplikace.
\subsection{Zhodnocení a pøevzaté vlastnosti}
Aplikace Umbrello je ¹pièkou ve své tøídì. Je zdarma a poskytuje mnoho nástrojù 
pøi návrhu aplikace. Mezi jeho pøednosti jistì patøí mo¾nost refactoringu a také 
rozsáhlé mo¾nosti ve variabilitì grafických návrhù.

Aplikace poskytla mnoho informací o vývoji editaèní aplikace, jakým chybám se 
vyvarovat a co se naopak hodí. Z aplikace Umbrello bylo pøedev¹ím pou¾ita 
jednoduchost a intuitivní ovládání. Rozdìlení aplikace na jednotlivé èásti a 
poté jednoduchý grafický design. Není za potøebí ve výsledné aplikaci mnoho 
nároèných grafických elementù. Tyto elemnty by byly ru¹ivé, tudí¾ na základì 
Umbrello aplikace byl zvolen jednoduchý design.

Na základì chyb a nedostatkù, pøevá¾nì tomu, ¾e Umbrello neposkutuje jakoukoliv 
kontrolu daného modelu, bylo v aplikaci Nástroj pro podporu vývoje softwarových 
systémù implementována mo¾nost kontroly editovaného grafu. A to pøesnìji 
kontrola spojù, zda je daný spoj mezi dvìma objekty na pracovním plátnì validní.

V Umbrello nelze dané spoje nikterat ohýbat, co¾ dìlá výdledný diagram velice 
nepøehledný. Dále není mo¾no v Umbrello nikterak editovat dané spoje, tomuto 
bylo vyhnuto a pøidána editace spojù s mo¾ností jednak zmìny typu, dále také 
zmìny objektu na který daná hrana ukazuje a také mo¾nost jednoduchého odebrání 
hrany.

V Umbrello není nikde vidìt, zda daný objekt má hrany, které vedou do a nebo z 
obejktu. Toto bylo ve výsledné aplikaci pøidáno, co¾ následnì zmìnilo grafické 
cítìní modelu a jednoduchou identifikaci objektù.

Ve výsledné aplikaci, bylo také vyhnuto vlastnosti automatického vyskakování 
okna pøi pøidání nového objektu, toto bylo nahrazeno pozdìj¹í úpravou daného 
objektu. Bylo vzáno v potaz, ¾e u¾ivatel bude chtít v jeden moment vytvoøit více 
objektù a a¾ poté e pojmenovat a pospojovat.

\section{Enterprise Architect} \label{enterpriseArchitect}
Aplikace \cite{Enterprise_architect} je tvoøena firmou sparx system 
\url{http://www.sparxsystems.com}, tato firma se soustøeïuje na tvorbu nástrojù 
pro tvorbu UML grafù. Bohu¾el firmou nabízené produkty jsou placené, ale za dané 
slu¾by èlovìk obdr¾í opravdu robustní systém pro tvorbu UML grafù a mo¾nost 
refaktoringu pro nìkolik jazykù.

\subsection{Popis aplikace}
Enterprise Architect (dále jen EA) je velice roustní systém, ji¾ nemá takové 
nedostatky jako aplikace Umbrello a nabízí nìkolikero mo¾ností pro refaktoring 
projektu. Aplikace rozdìluje UML grafy do dvou skupin, skupina 
\textbf{Structural Diagrams} pro diagramy na popis vyvýjené aplikace a popis 
její struktury. A skupinu \textbf{Behavior Diagrams} pro popis chování aplikace 
a komunikace mezi jednotlivými èástmi aplikace. Aplikace poskytuje velkou ¹kálu 
grafù a diagramù od klasických diagramù pro popis chování dat mezi sebou, pøes 
diagramy pro návrh Win32 UI a¾ po návrh testování výsledné aplikace.

\subsection{Výhody a nevýhody}
V aplikaci je mo¾né vytvoøit velké mno¾ství grafù a diagramù. Grafické rozhraní 
ji¾ není tak jednoduché, jako tomu je u aplikace Umbrello, ale je intuitivní a 
jednoduché pro pou¾ívání. Vìt¹ina pokroèilých funkcí je bohu¾el schována a je 
nároèné ji najít. Pøidávání atributù pro jednotlivé tøídy je opìt zdlouhavé a 
neintuitivní.

Výhodou této aplikace jistì je mo¾nost vytváøení diagramù pro jednotlivé jazyky, 
celkem jedenáct jazykù je podporovaných. \texttt{ActionScript, C, C\#, C++, 
Delphi, Java, PHP, Python, VBNet, Visual Basic, WorkFlow Script}.

Nejvìt¹í výhodou je jistì mo¾nost importovat celý obsah slo¾ky se zdrojovými 
kódy a tento projekt poté zobrazit v diagramu tøíd. Pro import aplikace je mo¾né 
pou¾ít také binární soubor výsledného programu. Generování dokumentace je 
jednoduché a pøehledné.

Pro jednodu¹¹í a rychlej¹í mo¾nost spojení jednotlivých objektù na pracovní 
plo¹e, lze pou¾ít rychlého nástroje vedle objektu. Na stejném místì lze nalést 
také funkce pro ryhclou editaci a zmìnu stylu objektu.

Pøeta¾ení spoje mezi dvìma objekty lze pomocí uchopení za jeden konec a ta¾ení k 
dal¹ímu objektu. Bohu¾el pùvodní spoj se neztratí do doby, ne¾ u¾ivatel pustí 
my¹. Pøi kliknutí mimo jakýkoliv objekt spoj zùstane u pùvodního objektu.

\subsection{Zhodnocení a pøevzaté vlastnosti}
Aplikace poslou¾ila pro dal¹í zhodnocení po¾adavkù a vyvarování se chyb. 
Pøedev¹ím nároènost a komplexnost aplikace se nehodí pro výslednou aplikaci.

Ve výsledné aplikaci bude za potøebí mo¾nosti jednoduchého zalomení hran a 
mo¾nosti jejich jednoduché editace. Takté¾ pøesun po pracovním plátnì ve 
výsledné aplikaci je vyøe¹en elegantnìji a intuitivnìji.

Umístnìní otevøených souborù je v aplikaci EA ponìkud netradièní v dolní èásti 
aplikace. U¾ivatel èasto nevidí otevøený projekt a èasto se mù¾e stát, ¾e zavøe 
stávající, jen kvùli tomu aby na¹el ji¾ otevøený soubor. Tudí¾ bylo ve výsledné 
aplikaci zvoleno umístnìní otevøených oken se soubory v horní èásti aplikace, 
lépe pøístupné u¾ivateli.

Takté¾ diagramy a grafy, se kterými se pracuje v danou chvíli mají umístnìní v 
EA své místo, ale pro vyvýjený projekt naprosto nepou¾itelné. V EA jsou diagramy 
umístnìny ve stromové struktuøe, z pochopitelných dùvodù rozsáhlosti aplikace a 
mo¾nostem grafù. Pro pozdìj¹í vývoj bylo zvoleno umístnìní otevøených diagramù 
pod zálo¾kami souborrù. Takto má u¾ivatel pøepínání mezi èástmi aplikace velice 
pohodlnì umístnìné a jednoduché pro pøepínání.

\section{Zhodnocení konkurentních nástrojù}
Pøi testování nástrojù urèených pro tvorbu UML grafù bylo zji¹tìno mnoho detailù 
a dùle¾itých vlastností, které bude výsledná aplikace potøebovat. Nìkteré výhody 
tìchto aplikací, jako napøíklad generování kódu, nebude potøeba implementovat ve 
výsledné aplikaci vzhledem na to, ¾e aplikace se soustøedí èistì jenom na 
vytváøení a editaci diagramù a UML grafù. 

Bìhem testování nebylo v ¾ádné aplikaci mo¾no udìlat Objektovì orientované 
Petriho sítì, nebo jakýkoliv jiný roz¹íøený pohled na implementaci jednotlivých 
tøíd a komunikaci mezi nimi. Dále v testovaných aplikacích nebylo mo¾né 
pøedgenerovat si tøídy na základì Pøípadu u¾ití, nebo naopak editovat tyto tøídy 
popøípadì smazat.
 
Grafický prvek celé aplikace bude za potøebí jednoduchý a snadný k pou¾ívání, 
ale dùle¾itým prvkem je dobré zviditelnìní nìkterých objektù. Jako napøíklad 
znázornìní tøíd, které nemají odpovídající prvky v pøípadu u¾ití. Nebo znázornit 
prvky, které nemají ¾ádné spojení s ostratními objekty. Takovéto znázornìní 
nebylo nalezeno v ¾ádné z testovaných aplikací, ale je dùle¾itým prvkem v 
rozpoznávání editovaného diagramu.

V testovaných aplikacích chybìla mo¾nost, nebo byla nedostateèná, pro zalomení 
hran. Tato vlastnost velice napomù¾e pro zpøehlednìní výsledného diagramu. 
Editace hran byla ve vìt¹inì editorù nepøíli¹ kvalitní. Zmìna typu hrany a zmìna 
objektù pro danou hranu je zapotøebí pro jednodu¹¹í práci s editorem.

Dále chybìla jakákoliv provázanost mezi jednotlivými èástmi aplikace, vytvoøení nìkolika
pøípadù u¾ití nevedlo k pøedvytvoøení tøíd a naopak. Pokud ov¹em chybìl nìkterý
objekt v pøipadu u¾ití a nebo tøída v diagramu tøíd nebylo toto opìt viditelné.
Tyto vlastnosti byli implementovány a znázornìny, tak¾e u¾ivatel je schopný
upravit jednotlivé èásti a velice jednodu¹e spozorovat chybìjící, nebo neprovázané
objekty.

\chapter{Grafy pro popis èástí}
Pro grafické znázornìní jednotlivých èástí byly vybrány z UML grafù Diagram pøípadù u¾ití 
\ref{pripadUziti} pro popis jednotlivých akcí v systému, Diagram tøíd 
\ref{diagramTrid} pro grafické znázornìní tøíd a operace mezi nimi. A jako 
poslední èást, která nespadá pod UML bylo vybráno objektovì orientovaných 
petriho sítí \ref{oopn} pro popis chování jednotlivých tøíd.

\section{Pøípad u¾ití} \label{pripadUziti}
Pøípady u¾ití jsou èasto modelovány a pou¾ívány ke komunikaci mezi zákazníkem,
který nemá pøili¹ mnoho zku¹eností s vývojem systému, ale rozumí danému problému
a svému oboru. A programátorem, èlovìkem který naopak má zku¹enosti s vývojem 
aplikace, ale nechápe do hloubky zákazníkùv problém a jeho obor.

Základními prvky Diagramu pøípadù u¾ití jsou pøípady u¾ití a aktéøi. V po¾adavcích na
systém rozpoznáváme takzvané \uv{Stakeholdery} jsou to osoby, nebo vìci, které mají 
zájem na provedení systému. Pøípady u¾ití popisují jak se má systém zachovat na 
reakce stakeholderù, akterù, a dodat urèité výsledky. Aktéøi na druhou stranu, jsou 
pøímí u¾ivatelé nebo veci s urèitým chováním. Hlavní aktér je èasto stakeholderem 
daného systému a hlavní spou¹tìè tohoto systému. Obèas je zapotøebí aktér, který není 
pøímo v systému, tomuto se øíká \uv{Podpùrný aktér}. Aktér není pøímo chápán jako jedinec, 
nýbr¾ jako role v systému. \cite{Pripad_uziti}

\subsection{Diagram pøipadù u¾ití}
Tyto diagramy se pou¾ívají pro grafický popis pøípadù u¾ití a zahrnuje nìkolik pravidel.
Aktéøi jsou znázoròováni ve tvaru postav a pøípady u¾ití jako elipsy obsahující 
název provádìného úkonu. Spoje mezi pøípady u¾ití a aktéry jsou znázornìny úseèkou vedoucí
od aktéra k pøípadu u¾ití.

Mezi pøípady u¾ití mohou být vedeny dále spoje pro jejich roz¹íøení a upravení. Jsou to
\uv{include}, \uv{extends} a \uv{generalizace}. Poslední jmenovaný spoj je mo¾ný také
vést mezi aktéry.

Include znamená to, ¾e pro správný chod daného nadøazeného pøípadu u¾ití je zapotøebí
pou¾ití ni¾¹ího pøípadu u¾ití.
Pro vykonání vy¹¹ího pøípadu u¾ití je zapotøebí nejdøíve vykonat ni¾¹í pøípad u¾ití.
Pokud pøi vykonávání nìkolika pøípadù u¾ití je vykonávána stejná funkcionalita, je vhodné
tuto funkcionalitu oddìlit z daného pøípadu u¾ití a spojit se v¹emi pøípady u¾ití 
spojem include. Spoj include je znázornìn pøeru¹ovanou ¹ipkou doprovázené textem
\uv{\<\<include\>\>}. Spoj je veden z nadøazeného pøípadu u¾ití k ni¾¹ímu pøípadu.

Extends slou¾í pro roz¹íøení urèitých pøípadù u¾ití. Toto znamená, ¾e je roz¹íøením
hlavního pøípadu u¾ití a toto roz¹íøení bylo vyjmuto z pùvodního pøípadu.
V pøekladu tento spoj znamená, ¾e jeden pøípad u¾ití je roz¹íøen dal¹ím pøípadem
u¾ití. Spoj je znázoròován pøeru¹ovanou ¹ipkou vedenou do roz¹iøovaného 
\(hlavního\) pøípadu u¾ití.

Generalizaci lze pou¾ít jak v pøípadech u¾ití, tak mezi aktéry. Slou¾í ke znázornìní
rodièù a potomkù. Pøi pou¾ití tohoto spoje znamená, ¾e potomek pøebírá ve¹kerou funckinalitu
svého rodièe a mù¾e, tuto funkcionalitu poupravit, nebo pøidat vlastní. Tento spoj je
znázornìn spojem ukonèeným prázdnou ¹ipkou a je veden od potomka k rodièi.

Pro lep¹í znázornìní a oddìlení pøípadù u¾ití je vhodné pou¾ít organizaci, ta se
znázoròuje rámeèkem okolo nìkolika pøípadù u¾ití.

\subsection{Pu¾itì vlastnosti}
Ve výsledné aplikaci byl pou¾it Diagram pøipadù u¾ití pro jednoduché znázornìní
a zanesení zákazníkových po¾adavkù. Tento diagram byl roz¹íøen o nìkolik u¾iteèných
vlastností.

Pokud Diagram pøípadu u¾ití nemá odpovídající tøídu v Diagramu tøíd je toto znázornìno
pod pøípadem u¾ití, nebo po akterém a to formou textu \uv{\/No Class\/}. Pokud daný spoj
mezi objekty nemá odpovídající spoj mezi tøídamy je toto znázornìno odli¹nou barvou 
od normálních spojù. Tyto kontroly je ov¹em mo¾né vypnout.

Dále pokud objekt není nijak spojen s ostatními objekty je znázornìn pøeru¹ovaným okrajem.

Vybraný objekt je znázornìn odli¹nou barvou a jeho okolí je ohranièeno rámeèkem.
Pokud je ojekt spojen s nìjakými jinými objekty tyto spoje jsou znázornìny po vybrání
tohoto objektu. Zvýraznìné spoje jsou pouze ty spoje, které vedou z vybraného objektu.
\section{Diagram tøíd} \label{diagramTrid}
\cite{Diagram_trid}
\subsection{Technický popis diagramu tøíd}
\subsection{Pøidané prvky}

\section{Objektovì orientované petriho sítì} \label{oopn}
\cite{oopn_caseStudy}
\subsection{Technický popis objektovì orientovaných petriho sítí}
\subsection{Pøidané prvky}

\chapter{Popis aplikace}
Jak ji¾ bylo øeèeno v pøede¹lé èásti, bylo rozhodnuto o jednoduchosti a 
intuitivním ovládání aplikace. Tohoto bylo docíleno sjednocením základního 
designu aplikace, sjednocení klávesových zkratek a porozumìní a prozkoumání 
moderních aplikací.

Hlavní okno se skládá z nìkolika panelù. Horní èást obsahuje otevøené projekty, 
jejich èástí a ovládací prvky. Celý hlavní obsah aplikace se nacháazí ve zbylích 
dvou tøetinách okna. V levé èásti se dále nacházejí tlaèítka pro mo¾nost 
pøepínání jednotlivých vkládaných obejktù. Dolní èást obsahuje informaèní a 
editaèní mo¾nosti zvoleného prvku a pro hlavní èást, je vyhranìn zbytek pracovní 
plochy, takzvané editaèní plátno.

Na toto plátno je mo¾né pøidávat jednotlivé prvky, spojovat je, pøesouvat je a 
mazat je. Po vybrání nìkterého tlaèítka v levém menu je mo¾né zaèít pøidávat 
prvky. Bylo zvoleno jednoduché a intuitivní chování aplikace, po kliknutí se 
vytvoøí objekt, po ta¾ení se pøesune objekt a pro spojení dvou objektù hranou je 
zapotøebí kliknout na první objekt a poté na druhý, pøièem¾ spoj je viditelný od 
kurzoru po první objekt. Pro zahnutí spoje je mo¾no kliknout pravým tlaèítkem 
my¹i, co¾ vyvolá vytvoøení ohybu spoje.

\section{Editace a chování prvkù}

\section{Editace a chování spojù}

\chapter{Závìr}
Závìreèná kapitola obsahuje zhodnocení dosa¾ených výsledkù se zvlá¹» vyznaèeným 
vlastním pøínosem studenta. Povinnì se zde objeví i zhodnocení z pohledu dal¹ího 
vývoje projektu, student uvede námìty vycházející ze zku¹eností s øe¹eným 
projektem a uvede rovnì¾ návaznosti na právì dokonèené projekty.

%=========================================================================
